<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Just for noting</title><link>https://blog.m157q.tw/</link><description></description><lastBuildDate>Wed, 05 Jun 2013 09:31:00 +0800</lastBuildDate><item><title>[Python] Mutable v.s Hashable</title><link>https://blog.m157q.tw/posts/2013/06/05/python-mutable-vs-hashable/</link><description>&lt;p&gt;Before talk about this, let's see some definitions.  &lt;/p&gt;
&lt;!--more--&gt;

&lt;p&gt;Mutable Def:&lt;br /&gt;
&lt;a href="http://docs.python.org/3/glossary.html#term-mutable"&gt;Mutable objects can change their value but keep their id().&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;Immutable Def:&lt;br /&gt;
&lt;a href="http://docs.python.org/3/glossary.html#term-immutable"&gt;An object with a fixed value. Immutable objects include numbers, strings and&lt;br /&gt;
tuples. Such an object cannot be altered. A new object has to be created if&lt;br /&gt;
a different value has to be stored. They play an important role in places where&lt;br /&gt;
a constant hash value is needed, for example as a key in a dictionary.&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;Hashable Def:  &lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python.org/3/glossary.html#term-hashable"&gt;An object is &lt;em&gt;hashable&lt;/em&gt; if it has a hash value which never changes during&lt;br /&gt;
its lifetime (it needs a &lt;strong&gt;hash&lt;/strong&gt;()method), and can be compared to other objects&lt;br /&gt;
(it needs an &lt;strong&gt;eq&lt;/strong&gt;() method). Hashable objects which compare equal must have&lt;br /&gt;
the same hash value.&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python.org/3/glossary.html#term-hashable"&gt;    Hashability makes an object usable as a dictionary key and a set member,&lt;br /&gt;
because these data structures use the hash value internally.&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python.org/3/glossary.html#term-hashable"&gt;    All of Python’s immutable built-in objects are hashable, while no mutable&lt;br /&gt;
containers (such as lists or dictionaries) are. Objects which are instances&lt;br /&gt;
of user-defined classes are hashable by default; they all compare unequal (except&lt;br /&gt;
with themselves), and their hash value is their id().&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python.org/3/reference/datamodel.html"&gt;Objects whose value can change are said to be mutable&lt;/a&gt;&lt;a href="http://docs.python.org/3/reference/datamodel.html"&gt;; &lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;&lt;a href="http://docs.python.org/3/reference/datamodel.html"&gt;Objects whose value is unchangeable once they are created are called &lt;em&gt;immutable&lt;/em&gt;. (The value of an immutable container object that contains a reference to  a mutable object can change when the latter’s value is changed; however the  container is still considered immutable, because the collection of objects  it contains cannot be changed. So, immutability is not strictly the same as  having an unchangeable value, it is more subtle.) &lt;/a&gt;&lt;br /&gt;
&lt;a href="http://docs.python.org/3/reference/datamodel.html"&gt;An object’s mutability is determined by its type; for instance, numbers,&lt;br /&gt;
strings and tuples are immutable, while dictionaries, sets and lists are mutable.&lt;/a&gt;  &lt;/p&gt;
&lt;p&gt;We can use hash() to check if an object is hashable.  &lt;/p&gt;
&lt;p&gt;But there seems no method to check if an object is mutable or not.  &lt;/p&gt;
&lt;p&gt;Google "python mutable check". Seems many people use hash() to check if an&lt;br /&gt;
object is mutable or not...  &lt;/p&gt;
&lt;p&gt;Python documentation said "&lt;a href="http://docs.python.org/3/glossary.html#term-hashable"&gt;All of Python’s immutable built-in objects are&lt;br /&gt;
hashable, while no mutable containers (such as lists or dictionaries) are.&lt;/a&gt;"  &lt;/p&gt;
&lt;p&gt;So... the questions are:  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Is there any hashable built-in object is mutable?  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Is there any un-hashable built-in objects is immutable?  &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If the answers of the two questions above is "No".&lt;br /&gt;
Then,   &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Can we create an user defined type that is hashable but mutable?  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Can we create an user defined type that is not hashable but immutable?  &lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;If the answers of the four questions above is "No".  &lt;/p&gt;
&lt;p&gt;Does it mean that we can use hash() to check if an object is mutable or not?  &lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;Refs:&lt;br /&gt;
&lt;a href="http://stackoverflow.com/questions/2671376/hashable-immutable"&gt;http://stackoverflow.com/questions/2671376/hashable-immutable&lt;/a&gt;&lt;br /&gt;
&lt;a href="http://docs.python.org/3/reference/datamodel.html#object.__hash__"&gt;http://docs.python.org/3/reference/datamodel.html#object.&lt;strong&gt;hash&lt;/strong&gt;&lt;/a&gt;&lt;br /&gt;
&lt;a href="http://docs.python.org/3/tutorial/classes.html"&gt;http://docs.python.org/3/tutorial/classes.html&lt;/a&gt;&lt;br /&gt;
&lt;a href="http://eli.thegreenplace.net/2012/03/30/python-objects-types-classes-and-instances-a-glossary/"&gt;http://eli.thegreenplace.net/2012/03/30/python-objects-types-classes-and-instances-a-glossary/&lt;/a&gt;&lt;br /&gt;
&lt;a href="http://stackoverflow.com/questions/4374006/check-for-mutability-in-python"&gt;http://stackoverflow.com/questions/4374006/check-for-mutability-in-python&lt;/a&gt;&lt;br /&gt;
&lt;a href="http://stackoverflow.com/questions/4418741/im-able-to-use-a-mutable-object-as-a-dictionary-key-in-python-is-this-not-disa"&gt;http://stackoverflow.com/questions/4418741/im-able-to-use-a-mutable-object-as-a-dictionary-key-in-python-is-this-not-disa&lt;/a&gt;&lt;br /&gt;
&lt;a href="http://www.velocityreviews.com/forums/t734950-how-to-test-for-atomicity-mutability-hashability.html"&gt;http://www.velocityreviews.com/forums/t734950-how-to-test-for-atomicity-mutability-hashability.html&lt;/a&gt;  &lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">m157q</dc:creator><pubDate>Wed, 05 Jun 2013 09:31:00 +0800</pubDate><guid isPermaLink="false">tag:blog.m157q.tw,2013-06-05:posts/2013/06/05/python-mutable-vs-hashable/</guid><category>Python</category><category>Python3</category><category>mutable</category><category>hashable</category></item><item><title>[Python] Sort dictionary by key or value</title><link>https://blog.m157q.tw/posts/2013/05/10/python-sort-dictionary-by-key-or-value/</link><description>&lt;h1&gt;in python3.3&lt;/h1&gt;
&lt;p&gt;&lt;!--more--&gt;  &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(k, v) == (key, value)  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;h4&gt;sort by key&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]):&lt;/span&gt;  
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="err"&gt; &lt;/span&gt; &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;t[0] means key  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;hr /&gt;
&lt;h4&gt;sort by value&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;sorted&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;items&lt;/span&gt;&lt;span class="p"&gt;(),&lt;/span&gt; &lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;lambda&lt;/span&gt; &lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;t&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]):&lt;/span&gt;  
&lt;span class="err"&gt; &lt;/span&gt; &lt;span class="err"&gt; &lt;/span&gt; &lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;: &lt;/span&gt;&lt;span class="si"&gt;%s&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;%&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;k&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;


&lt;blockquote&gt;
&lt;p&gt;t[1] means value  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;--  &lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">m157q</dc:creator><pubDate>Fri, 10 May 2013 16:33:00 +0800</pubDate><guid isPermaLink="false">tag:blog.m157q.tw,2013-05-10:posts/2013/05/10/python-sort-dictionary-by-key-or-value/</guid><category>Python</category><category>Sort</category><category>Python3</category></item></channel></rss>