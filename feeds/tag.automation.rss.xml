<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"><channel><title>Just for noting</title><link>https://blog.m157q.tw/</link><description></description><lastBuildDate>Sat, 16 Jul 2016 15:17:00 +0800</lastBuildDate><item><title>2015 12 月份 SA@Tainan 淺談 Ansible 自動化組態管理工具之筆記</title><link>https://blog.m157q.tw/posts/2015/12/26/study-area-ansible-tutorial-note/</link><description>&lt;ul&gt;
&lt;li&gt;Speaker  &lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/sakanamax"&gt;黃俊宏 sakana / Max&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Event URL  &lt;ul&gt;
&lt;li&gt;&lt;a href="http://phorum.study-area.org/index.php/topic,71531.msg343054.html#msg343054"&gt;2015 12月份 SA@Tainan 淺談 Ansible 自動化組態管理工具 12/26(六)&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Place  &lt;ul&gt;
&lt;li&gt;成功大學資訊新館 203 電腦教室  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.google.com/presentation/d/136VKHI_H8wKyrLIm1eaTMLz82uoPgjV4zTiGb1_-_Ig/edit#slide=id.p"&gt;Slides&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="/files/study-area-ansible-tutorial-note/"&gt;Jupyter Notebook using in this tutorial&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;ul&gt;
&lt;li&gt;Configure Management 四大金釵:  &lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/ansible/ansible"&gt;Ansible&lt;/a&gt; (Python)  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/chef/chef"&gt;Chef&lt;/a&gt; (Ruby)  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/puppetlabs/puppet"&gt;Puppet&lt;/a&gt; (Ruby)  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/saltstack/salt"&gt;Salt&lt;/a&gt; (Python)  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ansible 現在有 modules 可以控制 Windows  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;About Ansible&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Ansible - configuration management tool 組態管理工具  &lt;ul&gt;
&lt;li&gt;&lt;a href="http://www.ansible.com/"&gt;Official Website&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/ansible/ansible"&gt;GitHub&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Online resource 線上資源  &lt;ul&gt;
&lt;li&gt;&lt;a href="http://docs.ansible.com/"&gt;Documentation 文件&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://galaxy.ansible.com/"&gt;Ansible Galaxy&lt;/a&gt;  &lt;ul&gt;
&lt;li&gt;社群共享 Role 集散地  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;a href="https://groups.google.com/forum/#!forum/ansible-project"&gt;Ansible Project Google Group 討論群組&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;irc.freenode.net: #ansible  &lt;ul&gt;
&lt;li&gt;Brian Coca 非常熱心，有問題問他就好(?)  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;Why Ansible&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Infrastructure as Code  &lt;/li&gt;
&lt;li&gt;語法簡單 (playbook 以 YAML 語法撰寫)  &lt;/li&gt;
&lt;li&gt;不需要安裝 client (clientless)  &lt;/li&gt;
&lt;li&gt;Push-based  &lt;ul&gt;
&lt;li&gt;Pull-bsaed: Agent check to server by time. (Chef / Puppet by default)  &lt;/li&gt;
&lt;li&gt;Push-based: Server push change by order  &lt;ul&gt;
&lt;li&gt;你可以決定何時進行設定  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Very thin layer of abstraction  &lt;ul&gt;
&lt;li&gt;以原有的習慣進行部署  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;預備知識&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;ssh  &lt;/li&gt;
&lt;li&gt;CLI  &lt;/li&gt;
&lt;li&gt;安裝套件  &lt;/li&gt;
&lt;li&gt;sudo  &lt;/li&gt;
&lt;li&gt;管理檔案權限  &lt;/li&gt;
&lt;li&gt;管理 service  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;How to install Ansible&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.ansible.com/ansible/intro_installation.html"&gt;https://docs.ansible.com/ansible/intro_installation.html&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;The role of Ansible&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Control Machine  &lt;ul&gt;
&lt;li&gt;Control managed nodes  &lt;/li&gt;
&lt;li&gt;Need Python 2.6 above  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Managed Node  &lt;ul&gt;
&lt;li&gt;Remote server  &lt;/li&gt;
&lt;li&gt;Need Python 2.5 above  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;預設一次五台主機佈署, 可以調整 forks 變數來改變預設值。  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;Difference between shell script&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;不用登入遠端去抓 shell script 與執行 (中央集權)  &lt;/li&gt;
&lt;li&gt;會從佈署失敗的地方開始繼續，不會整個重跑。  &lt;/li&gt;
&lt;li&gt;針對所有主機同時進行，&lt;strong&gt;按照順序&lt;/strong&gt;執行任務  &lt;/li&gt;
&lt;li&gt;有許多現成的 Module 可用,用法習慣跟原系統差不多  &lt;/li&gt;
&lt;li&gt;有別人寫好的 Role 可以參考與套用 (Ansible-galaxy)  &lt;/li&gt;
&lt;li&gt;語法簡單，容易上手(YAML)  &lt;/li&gt;
&lt;li&gt;可以利用 fact 與變數執行 loop 或是其他的做法  &lt;/li&gt;
&lt;li&gt;有別人寫好的 Role 可以參考與套用：&lt;a href="https://galaxy.ansible.com/"&gt;Ansible Galaxy&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;The first Ansible command for you&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ansible 對象 -m ping&lt;/code&gt;  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;Usage&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;ansible&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;host&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pattern&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt;&lt;span class="n"&gt;options&lt;/span&gt;&lt;span class="o"&gt;]&lt;/span&gt;  
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="n"&gt;INVENTORY&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;inventory&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;INVENTORY&lt;/span&gt; &lt;span class="n"&gt;specify&lt;/span&gt; &lt;span class="n"&gt;inventory&lt;/span&gt; &lt;span class="n"&gt;host&lt;/span&gt; &lt;span class="n"&gt;file&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;etc&lt;/span&gt;&lt;span class="sr"&gt;/ansible/&lt;/span&gt;&lt;span class="n"&gt;hosts&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;  
    &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;m&lt;/span&gt; &lt;span class="n"&gt;MODULE_NAME&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;module&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;MODULE_NAME&lt;/span&gt; &lt;span class="n"&gt;module&lt;/span&gt; &lt;span class="n"&gt;name&lt;/span&gt; &lt;span class="n"&gt;to&lt;/span&gt; &lt;span class="n"&gt;execute&lt;/span&gt; &lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="k"&gt;default&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;command&lt;/span&gt;&lt;span class="o"&gt;)&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h3&gt;Inventory File&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Ansible lists hosts in text files, called &lt;strong&gt;inventory files&lt;/strong&gt;.  &lt;/li&gt;
&lt;li&gt;將遠端主機相關資訊以文字檔案的方式建立稱為 inventory file, 常見的檔案名稱為 hosts  &lt;/li&gt;
&lt;li&gt;語法 &lt;code&gt;servername  options&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;可以設定群組 &lt;code&gt;[群組名稱]&lt;/code&gt; 來組織對象  &lt;/li&gt;
&lt;li&gt;常用選項  &lt;ul&gt;
&lt;li&gt;&lt;code&gt;ansible_ssh_host -- Remote Host IP&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible_ssh_user -- Remote SSH User Name&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible_ssh_private_key_file -- SSH Key&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible_ssh_port -- ssh port&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible_ssh_pass -- ssh password&lt;/code&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;如果有定義到 &lt;code&gt;ansible.cfg&lt;/code&gt; 的 &lt;code&gt;[defaults]&lt;/code&gt; 就可以不列出  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;ansible.cfg&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ansible.cfg&lt;/code&gt; looks for this order:  &lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;File specified by the ANSIBLE_CONFIG (-i option)  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;./ansible.cfg&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;~/.ansible.cfg&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;/etc/ansible/ansible.cfg&lt;/code&gt;  &lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;可以設定一些預設行為，不需要逐一設定在 hosts  &lt;/p&gt;
&lt;p&gt;example:  &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;[defaults]  
# hostfile -- 主機 ip 對照  
hostfile = hosts  

# remote_user -- 遠端使用者名稱  
remote_user = root  

# private_key_file -- SSH privite key path  
# host_key_checking -- 不詢問加入 ssh 金鑰  
host_key_checking = False  

# 設定 retry files (*.retry) 存放路徑, 預設放家目錄  
# 我自己喜歡指定在目前目錄, 以免作完實驗家目錄一堆 .retry  
retry_files_save_path = ./ansible-retry  

# 平行處理數量, 預設是 5 個, 應該不一定會用到先記下來  
# forks = 20  
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h3&gt;Ansible Module&lt;/h3&gt;
&lt;p&gt;Ansible 使用上, 會根據不同的功能呼叫不同的 Module  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Module 目錄： &lt;a href="http://docs.ansible.com/ansible/modules_by_category.html"&gt;http://docs.ansible.com/ansible/modules_by_category.html&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://docs.ansible.com/ansible/list_of_all_modules.html"&gt;All Modules — Ansible Documentation&lt;/a&gt;  &lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;System module  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ping  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Notification Modules  &lt;ul&gt;
&lt;li&gt;IRC  &lt;/li&gt;
&lt;li&gt;Slack  &lt;/li&gt;
&lt;li&gt;Jabber  &lt;/li&gt;
&lt;li&gt;email  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;Hands on Lab with Module&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;ansible 對象 -m 模組名稱 -a 要傳入的參數&lt;/code&gt;  &lt;/p&gt;
&lt;h4&gt;官方文件該怎麼看&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;官方 doc 的 Options 先看 required  &lt;/li&gt;
&lt;li&gt;required 裏面先看 yes 的就好  &lt;/li&gt;
&lt;li&gt;Example 沒差，因為有時候是騙你的XD  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;Playbook&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;Playbook 包含很多 Play&lt;br /&gt;
Play 就是你要執行的工作&lt;br /&gt;
Play 裏面包含很多 hosts&lt;br /&gt;
Play 裏面有 tasks 定義要做哪些事&lt;br /&gt;
而 tasks 做的事，可以透過 modules 達成  &lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;使用 YAML 語法  &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A script is called a playbook.&lt;/strong&gt; (類似一個 shell script)  &lt;ul&gt;
&lt;li&gt;包含要進行組態的主機  &lt;/li&gt;
&lt;li&gt;以及順序進行的工作  &lt;/li&gt;
&lt;li&gt;包含許多的 play (&lt;code&gt;*.yml&lt;/code&gt;)  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ansible 針對所有的主機同時 (平行) 執行tasks.  &lt;ul&gt;
&lt;li&gt;Ansible 會等待所有主機 task 完成之後，才會進行下一個 task  &lt;/li&gt;
&lt;li&gt;Ansible &lt;strong&gt;按照順序執行&lt;/strong&gt; tasks  &lt;/li&gt;
&lt;li&gt;如果遇到錯誤的話就會立即停止，但在下次執行的時候，可以從上次錯誤跳出的地方繼續。  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Ansible playbooks 以 YAML 語法撰寫，簡單易讀。  &lt;/li&gt;
&lt;li&gt;使用 ansible-playbook 指令執行  &lt;ul&gt;
&lt;li&gt;&lt;code&gt;ansible-playbook&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible-playbook  --verbose 顯示詳細資訊&lt;/code&gt;  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;ansible-playbook  --check 不實際執行 dry run&lt;/code&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;YAML 語法&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;Yet Another Markup Language  &lt;ul&gt;
&lt;li&gt;&lt;a href="http://yaml.org/"&gt;http://yaml.org/&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://zh.wikipedia.org/wiki/YAML"&gt;https://zh.wikipedia.org/wiki/YAML&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Start of File  &lt;ul&gt;
&lt;li&gt;以 3 個 &lt;code&gt;---&lt;/code&gt; 開始, 不加上去也可以  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Comment  &lt;ul&gt;
&lt;li&gt;以 &lt;code&gt;#&lt;/code&gt; 來進行單行註解  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;#&lt;/code&gt; 就是註解的開始（跟 shell script 一樣）  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Strings  &lt;ul&gt;
&lt;li&gt;不一定要加上引號  &lt;/li&gt;
&lt;li&gt;可是有的時候為了易讀性，可以使用單引號或是雙引號  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Booleans  &lt;ul&gt;
&lt;li&gt;使用 True 或是 Yes 都可以視為真  &lt;/li&gt;
&lt;li&gt;但是還是用 True 不會混亂  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Lists (delimited with hyphens)  &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;- My Fair Lady  
- Oklahoma  
# inline 格式list  
[My Fair Lady, Oklahoma, The Pirates of Penzance]  
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;Dictionaries  &lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span class="n"&gt;address&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;742&lt;/span&gt; &lt;span class="n"&gt;Evergreen&lt;/span&gt; &lt;span class="n"&gt;Terrace&lt;/span&gt;  
&lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;North&lt;/span&gt; &lt;span class="n"&gt;Takoma&lt;/span&gt;  
&lt;span class="err"&gt;#&lt;/span&gt; &lt;span class="n"&gt;inline&lt;/span&gt;  &lt;span class="err"&gt;格式&lt;/span&gt;  
&lt;span class="o"&gt;{&lt;/span&gt;&lt;span class="n"&gt;address&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;742&lt;/span&gt; &lt;span class="n"&gt;Evergreen&lt;/span&gt; &lt;span class="n"&gt;Terrace&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;city&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Springfield&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;state&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;North&lt;/span&gt; &lt;span class="n"&gt;Takoma&lt;/span&gt;&lt;span class="o"&gt;}&lt;/span&gt;  
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h3&gt;Plays&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;每一個 play 包含  &lt;ul&gt;
&lt;li&gt;A set of hosts to configure. （目標主機）  &lt;/li&gt;
&lt;li&gt;A list of tasks to be executed on those hosts. （工作內容）  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;常用的設定  &lt;ul&gt;
&lt;li&gt;&lt;code&gt;name&lt;/code&gt; - 執行的 play 或是 task 名稱  &lt;/li&gt;
&lt;li&gt;&lt;code&gt;sudo&lt;/code&gt; - 要不要執行 sudo  &lt;ul&gt;
&lt;li&gt;已經改叫 &lt;code&gt;become&lt;/code&gt; 了  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;code&gt;vars&lt;/code&gt; - 變數設定  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Tasks  &lt;ul&gt;
&lt;li&gt;要在遠端主機執行的工作  &lt;ul&gt;
&lt;li&gt;Modules  &lt;ul&gt;
&lt;li&gt;Modules are scripts that come packaged with Ansible.  &lt;/li&gt;
&lt;li&gt;&lt;a href="http://docs.ansible.com/ansible/modules_by_category.html"&gt;http://docs.ansible.com/ansible/modules_by_category.html&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;register, debug 觀察錯誤的時候用&lt;br /&gt;
通常會用到都不是什麼好事情XD  &lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Hands on Lab with Playbook&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="/file/study-area-ansible-tutorial-note/SA_playbook/shell_yum_when.yml"&gt;playbook using in this hands on&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sakanamax/LearnAnsible/tree/master/books/Oreilly-Up-And-Running-Ansible/playbooks"&gt;Some playbook examples&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sakanamax/LearnAnsible/blob/master/books/Oreilly-Up-And-Running-Ansible/playbooks/SA_20151226_Tainan_Ansible.yml"&gt;The playbook for hands on environment for this tutorial&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/sakana/jupyterhub/"&gt;The docker file for hands on environment for this tutorial&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h2&gt;References / Related Links&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://shop.oreilly.com/product/0636920035626.do"&gt;Ansible Up &amp;amp; Running&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://sakananote2.blogspot.tw/"&gt;sakananote&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/sakana/ansible2.x_ubuntu14043/"&gt;https://hub.docker.com/r/sakana/ansible2.x_ubuntu14043/&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://hub.docker.com/r/sakana/jupyterhub/"&gt;https://hub.docker.com/r/sakana/jupyterhub/&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sakanamax/LearnAnsible/blob/master/Mindmap"&gt;Ansible Mind Map&lt;/a&gt; (Use FreeMind to open it)  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/sakanamax/LearnAnsible"&gt;sakanamax/LearnAnsible · GitHub&lt;/a&gt;  &lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.ansible.com/ansible/guide_gce.html"&gt;Google Cloud Platform Guide — Ansible Documentation&lt;/a&gt;  &lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h2&gt;Thoughts&lt;/h2&gt;
&lt;p&gt;聽完後覺得 Anisble 真的蠻方便的，&lt;br /&gt;
基本上就是把 shell script 包裝起來的概念，&lt;br /&gt;
感覺可以直接取代 shell script 了。&lt;br /&gt;
可以很簡單得用 YAML 撰寫 playbook 來針對不同作業系統做不同的事，&lt;br /&gt;
在 playbook 中的每一個 play 都代表著一個步驟，&lt;br /&gt;
每一個 play 在 Jupyter notebook 中也都會顯示執行結果，&lt;br /&gt;
有種 unittest 的味道。有些人喜歡有些人不喜歡（誤）&lt;br /&gt;
然後也不需要在 managed nodes 上裝任何 clients，&lt;br /&gt;
只要 managed nodes 能夠用 ssh 登入進去，&lt;br /&gt;
就可以直接都在 contorl machine 上操作。  &lt;/p&gt;
&lt;p&gt;比較有趣的是講者有提到他們會直接使用 Jupyter notebook (IPython notebook)&lt;br /&gt;
讓不懂 playbook 詳細細節的人也可以操作，&lt;br /&gt;
因為 Jupyter notebook 可以在每個 play 加上說明，&lt;br /&gt;
所以要交接的時候可以直接丟出這些 Jypyter notebooks 就無痛交接。  &lt;/p&gt;
&lt;p&gt;會後跟凍仁拿到了之前一直想拿的 Vim 貼紙，&lt;br /&gt;
還獲得了凍仁的 MOPCON 名片，&lt;br /&gt;
然後和小飛機、小趴、CrBoy、雨蒼從 Ansible 聊到刑事訴訟法的灰色地帶XD&lt;br /&gt;
（其實警察臨檢要搜身或者搜車的話，如果沒有搜索令其實是違法的之類的）  &lt;/p&gt;
&lt;p&gt;之後去 Double Cheese 聚餐，&lt;br /&gt;
在等待的時候又聊到了學校資訊系統的共同問題，&lt;br /&gt;
Single Sign-On, 選課系統之類的...&lt;br /&gt;
用餐的時候就坐在鳥哥(vbird)的對面！&lt;br /&gt;
當初小高一的時候用 Ubuntu 就是看著鳥哥的網站學 Linux 指令的啊！&lt;br /&gt;
今天本人竟然就在我對面！&lt;br /&gt;
鳥哥的人好親切啊，竟然還幫我倒飲料&amp;gt;"&amp;lt;&lt;br /&gt;
然後又聊到了威妥碼拼音、通用拼音、漢語拼音的故事。&lt;br /&gt;
StudyArea 好像是我參與的社群裏面第一次可以這麼快聊起來的，&lt;br /&gt;
真的很開心。  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;2015/12/26 寫於成功大學資訊舊館前  &lt;ul&gt;
&lt;li&gt;(好多蚊子啊！)  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;2016/07/16 Study Area 2016 群英會  &lt;ul&gt;
&lt;li&gt;補充一些新的內容  &lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">m157q</dc:creator><pubDate>Sat, 16 Jul 2016 15:17:00 +0800</pubDate><guid isPermaLink="false">tag:blog.m157q.tw,2015-12-26:posts/2015/12/26/study-area-ansible-tutorial-note/</guid><category>Python</category><category>Ansible</category><category>DevOps</category><category>automation</category><category>Meetup</category></item></channel></rss>