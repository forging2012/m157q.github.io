<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>  Study-Area 2016 群英會
 | Just for noting</title>

    <meta name="author" content="m157q"/>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"/>
    <link rel="stylesheet" href="https://blog.m157q.tw/theme/css/jquery.mglass.css"/>
    <link rel="stylesheet" href="https://blog.m157q.tw/theme/css/pygment-solarized-dark.css"/>
    <link rel="stylesheet" href="https://blog.m157q.tw/theme/css/style.css"/>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Istok+Web' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'/>


    <link rel="icon" href="https://blog.m157q.tw/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://blog.m157q.tw/favicon.ico" type="image/x-icon">

    <!-- Feeds -->
      <link href="https://blog.m157q.tw/feeds/all.feed.atom.xml" type="application/atom+xml" rel="alternate" title="Just for noting - All posts - Atom Feed"/>
      <link href="https://blog.m157q.tw/feeds/all.feed.rss.xml" type="application/rss+xml" rel="alternate" title="Just for noting - All posts - RSS Feed"/>
      <link href="https://blog.m157q.tw/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Just for noting - Latest posts - Atom Feed"/>
      <link href="https://blog.m157q.tw/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Just for noting - Latest posts - RSS Feed"/>
      <link href="https://blog.m157q.tw/feeds/category.confmeetup.atom.xml" type="application/atom+xml" rel="alternate" title="Just for noting - Category: Conf/Meetup - Atom Feed"/>
      <link href="https://blog.m157q.tw/feeds/category.confmeetup.rss.xml" type="application/rss+xml" rel="alternate" title="Just for noting - Category: Conf/Meetup - RSS Feed"/>

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-45367183-2', 'auto');
    ga('send', 'pageview');
    </script>



  </head>

  <body>

    <div class="container">

      <div class="page-header">
        <h1><a href="https://blog.m157q.tw">Just for noting</a> <small></small></h1>
      </div>

      <nav class="navbar navbar-default">

        <!-- Hamburger menu for mobile -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#plumage-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://blog.m157q.tw" title="">Just for noting</a>
        </div>

        <!-- Menus and search forms -->
        <div class="collapse navbar-collapse" id="plumage-navbar-collapse-1">

          <ul class="nav navbar-nav">
<li >
                <a href="/categories">Categories</a>
              </li>
<li >
                <a href="/archives">Archives</a>
              </li>
<li >
                <a href="/tags">Tags</a>
              </li>
<li >
                  <a href="https://blog.m157q.tw/pages/cv/">CV</a>
                </li>
          </ul>


            <form class="navbar-form navbar-right" role="search" action="https://blog.m157q.tw/search.html" onsubmit="return validateForm(this.elements['q'].value);">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" name="q" id="tipue_search_input" class="form-control search-query" placeholder="Search" required />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fa
                        fa-search fa-fw"></i></button>
                  </span>
                </div>
              </div>
            </form>

        </div>

      </nav>

    </div>


    <div class="container main">


      <div class="row">
        <div class=" col-md-9  ">
  <h1>
    <a href="https://blog.m157q.tw/posts/2016/07/16/study-area-summit-2016/" rel="bookmark" title="Permalink to Study-Area 2016 群英會">Study-Area 2016 群英會</a>
  </h1>
        </div>
      </div>

      <div class="row">


        <div class=" col-md-9 " id="content" role="main">
  

  <blockquote>
    <p>2016/07/16 在交大 EC122 教室舉辦的 Study-Area 2016 群英會的筆記。</p>
  </blockquote>
  <div>
    <p>Event Link: <a href="http://studyarea.kktix.cc/events/c6457aff">http://studyarea.kktix.cc/events/c6457aff</a>  </p>
<blockquote>
<p>好多人報了名沒出現啊 ww  </p>
</blockquote>
<hr />
<h1>ONOS 及實際 SDN Switch 整合使用經驗分享 by 小飛機</h1>
<ul>
<li>投影片連結：<a href="https://docs.google.com/presentation/d/18tDnGkjTQ1yEcZnNkVz94a0FbusDd9lXb3MAcTnZDzE/edit#slide=id.p">ONOS 及實際 SDN Switch 使用經驗分享 - Google 簡報</a>  </li>
<li>ONC (Open Network Conference), SDN 相關領域年度最大聚會  </li>
<li>因為在 ONC 發表成果，而被 Bell Labs 位於比利時的歐洲總部邀請面試。  <ul>
<li>多參與 Open Source 專案，讓自己在國際級的 Conf 被看見，是很有用的  </li>
</ul>
</li>
</ul>
<h2>SDN 新手如何開始？</h2>
<h3>簡單起頭</h3>
<ul>
<li>只做 L2 Switching  <ul>
<li>用 <code>ping</code> 驗證網路狀況  </li>
<li>用 <code>iperf</code> 驗證網路速度  </li>
</ul>
</li>
<li>決定 Topology  <ul>
<li>3-Tier Topology  </li>
<li>Mesh Topology  </li>
<li>Leaf-Spine Topology  </li>
<li><a href="https://en.wikipedia.org/wiki/Spanning_Tree_Protocol#Rapid_Spanning_Tree_Protocol">STP</a> (Spannig Tree Protocol)  <ul>
<li>Loop-free Topology  </li>
</ul>
</li>
</ul>
</li>
<li>養成有實驗組與對照組的習慣  </li>
<li>基本的 Networking 經驗要有  </li>
<li>美國有高中生就在當 intern 學習這個部份，所以不要覺得門檻太高，真的有興趣的話就跳下來研究吧  </li>
</ul>
<h3>常見實際拓墣</h3>
<div class="highlight"><pre><span></span>Internet -- DHCP/NAT Server -- Legacy L2 Switch  -- OpenFlow Controller (放在內網，不然很容易被打）  
                                       |  
                            OpenFlow-Enabled Switch (建議用 Out-of-band)  
                                   /        \  
                             Host A         Host B  
</pre></div>


<p>可以觀察到封包都是好事  </p>
<h3>OpenFlow-Enabled Switch 選擇</h3>
<p>價格從高排到低依序為：  </p>
<ol>
<li>採買實體 OpenFlow-Enabled Switch 及 Network OS  <ul>
<li>從各家 Network OS 廠商中的 Hardware Compatibility List 裡挑選硬體  </li>
</ul>
</li>
<li>Linux Server + 4-Port NIC + OpenvSwitch  <ul>
<li>可以直接在 Local 用 Wireshark 觀察封包  </li>
</ul>
</li>
<li>支援 OpenWrt AP + OpenvSwitch  </li>
</ol>
<p>Protocol 請以 1.3 為主，1.0 為次。  </p>
<p>OpenvSwitch 和 Docker (Socket Plan), Xen Server 有關  </p>
<h3>OpenFlow Controller 選擇</h3>
<p>選擇 Controller Application 有實作 L2 Forwarding 或者是 Switching 功能  </p>
<ol>
<li><a href="https://osrg.github.io/ryu/">Ryu</a>  <ul>
<li>學習曲線低  </li>
<li>Keyword: <code>Simple_Switch_13</code> (or <code>Simple_Switch_10</code>)  </li>
</ul>
</li>
<li><a href="http://onosproject.org/">ONOS</a>  <ul>
<li>學習曲線偏高  </li>
<li>Keyword: <code>org.onosproject.fwd</code>  </li>
</ul>
</li>
<li>Tip: 觀測不同家的 Controller 建立行為基準  </li>
</ol>
<h3>直接接上 SDN Controller 進行測試？</h3>
<ul>
<li>如果你經驗非常豐富的話，可以。  </li>
<li>要先確保 OpenFlow-Enabled Switch, Host A, Host B 都可以 ping 到 OpenFlow Controller  <ul>
<li>八成的人有問題都是出在這部份，基本上就是網路設定沒設定好  </li>
</ul>
</li>
</ul>
<h3>OpenFlow Connection Setup</h3>
<ul>
<li><a href="http://sdnhub.org/tutorials/openflow-1-3/">http://sdnhub.org/tutorials/openflow-1-3/</a>  </li>
<li>要記得看 Spec，去對照現在做的行為對不對  </li>
<li>確認連線正常後，再開啟 OpenFlow Controller。（SDN 的功能）  </li>
<li>到目前為止是基本的設定步驟，可以嘗試用全自動化的方式做掉這部份，例如用 Ansible。  </li>
</ul>
<h3>在啟動 SDN 的狀況下，連線不正常？</h3>
<ul>
<li>觀測 Flow Count 是否有增加 =&gt; 可確定 Flow Entry 有沒有被 Match  <ul>
<li><code>ovs-ofctl dump-flows</code>  </li>
</ul>
</li>
<li>Tips: 先從 Switch 開始懷疑起  </li>
</ul>
<h3>真的找不出業障在哪裡的話</h3>
<ul>
<li>撈封包回來用 Wireshark 檢查  </li>
<li>根據 IANA 的規定，OpenFlow 使用 6653 port，但早期有些是 6633 port，記得現在都用 6653 就好。  </li>
<li>業障關鍵字： <code>OFPT_ERROR</code>  <ul>
<li>對照 <a href="https://www.opennetworking.org/images/stories/downloads/sdn-resources/onf-specifications/openflow/openflow-spec-v1.3.0.pdf">OpenFlow 1.3 Spec Error Message</a> (A.4.4) 確定錯誤碼的意思  </li>
</ul>
</li>
</ul>
<h3>複雜一點的實際使用案例</h3>
<ul>
<li>ONOS SDN-IP  <ul>
<li><a href="https://wiki.onosproject.org/display/ONOS/SDN-IP+Tutorial">https://wiki.onosproject.org/display/ONOS/SDN-IP+Tutorial</a>  </li>
</ul>
</li>
<li><a href="http://opencord.org/">OpenCORD</a>  <ul>
<li>AT&amp;T 提出的 Project  </li>
<li>Re-architecting the Central Office  <ul>
<li><a href="http://opencord.org/wp-content/uploads/2016/04/ONS-2016-Plenary.pdf">http://opencord.org/wp-content/uploads/2016/04/ONS-2016-Plenary.pdf</a>  </li>
</ul>
</li>
<li>今年 4 月在美國有進行 field try 了  </li>
<li>Domains (三者都建立在 CORD Controller）  <ul>
<li>Residential  </li>
<li>Mobile  </li>
<li>Enterprise  </li>
</ul>
</li>
</ul>
</li>
<li>ONF Atrium - SDN Project Stack  <ul>
<li><a href="https://www.opennetworking.org/?p=1757&amp;option=com_wordpress&amp;Itemid=316">https://www.opennetworking.org/?p=1757&amp;option=com_wordpress&amp;Itemid=316</a>  </li>
<li><a href="https://github.com/onfsdn/atrium-docs">https://github.com/onfsdn/atrium-docs</a>  </li>
</ul>
</li>
</ul>
<p>對這些專案或者和 SDN 相關議題有興趣的話，歡迎加入 <a href="http://sdnds.tw/">SDNDS-TW 社群</a>  </p>
<h2>Related Links</h2>
<ul>
<li><a href="https://github.com/opennetworkinglab/onos">GitHub - opennetworkinglab/onos: Open Network Operating System</a>  </li>
</ul>
<hr />
<h1>淺談 DC/OS by Daniel</h1>
<ul>
<li>相關關鍵字  <ul>
<li><a href="https://dcos.io/">DC/OS</a>  </li>
<li><a href="https://mesos.apache.org/">Mesos</a>  </li>
<li><a href="http://kubernetes.io/">Kubernets</a>  </li>
<li><a href="https://coreos.com/">CoreOS</a>  </li>
</ul>
</li>
</ul>
<h2>What's DC/OS</h2>
<h3>Mesos Master Quorum</h3>
<ul>
<li>預設一台 Mesos Master，兩台 Mesos Standby，預設用 ZooKeeper 管理。  </li>
<li>
<p>Framework 和 Scheduler 做資源的分配與調度，丟到 Mesos Slave (Framework + Executor) 執行  </p>
</li>
<li>
<p><a href="https://docs.mesosphere.com/1.7/overview/architecture/">Architecture - Mesosphere DC/OS Documentation</a>  </p>
<ul>
<li>DCOS Master  <ul>
<li>Mesos DNS  <ul>
<li>Service Discovery  </li>
</ul>
</li>
</ul>
</li>
<li>DCOS Private Agent  <ul>
<li>給內部使用，外網連不到  </li>
</ul>
</li>
<li>DCOS Public Agent  </li>
</ul>
</li>
</ul>
<h2>Why DC/OS</h2>
<ul>
<li>生態圈豐富  <ul>
<li>許多大廠都有在使用  </li>
</ul>
</li>
<li>漂亮的 GUI  </li>
<li>有 HA 機制 (ZooKeeper) 及 Service Discovery (Mesos DNS)  </li>
<li>100% Open Source  </li>
</ul>
<h2>How to use DC/OS</h2>
<ul>
<li><a href="https://dcos.io/docs/1.7/">https://dcos.io/docs/1.7/</a>  </li>
<li>Use DC/OS on AWS  <ul>
<li><a href="https://mesosphere.com/amazon/">https://mesosphere.com/amazon/</a>  </li>
</ul>
</li>
<li>Login 方式目前只支援三種  <ul>
<li>Google Gmail  </li>
<li>Azure Hotmail  </li>
<li>GitHub  </li>
<li>LDAP 是不行的  </li>
</ul>
</li>
</ul>
<h2><a href="https://github.com/mhausenblas/dploy">dploy</a></h2>
<ul>
<li>DC/OS 的 build file 是 JSON 格式，和 Dockerfile 的 yaml 格式不同。  </li>
<li>Usage  <ul>
<li><code>dploy init</code>  </li>
<li><code>dploy dryrun</code>  </li>
<li><code>dploy destory</code>  <ul>
<li>刪除 container  </li>
</ul>
</li>
<li><code>dploy ls</code>  <ul>
<li>列出所有 containers  </li>
</ul>
</li>
<li><code>dploy [-all] ps</code>  <ul>
<li>列出 container 在執行的 process  </li>
</ul>
</li>
<li><code>dploy -pid=&lt;PID&gt; [-instances=NUM] scale</code>  <ul>
<li>幫你做 auto-scaling  </li>
</ul>
</li>
</ul>
</li>
<li>Docs  <ul>
<li><a href="http://dploy.sh">http://dploy.sh</a>  </li>
<li><a href="https://github.com/mhausenblas/s4d">GitHub - mhausenblas/s4d: A sandbox for dploy (s4d)</a>  <ul>
<li>透過 GitHub 的 Webhook 去 trigger DC/OS  </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2><a href="https://docs.mesosphere.com/1.7/usage/service-guides/marathon/">Marathon</a></h2>
<ul>
<li>DC/OS GUI 介面  </li>
<li>有基本的 healthcheck  </li>
</ul>
<h2>Related Links</h2>
<ul>
<li><a href="https://github.com/dcos/dcos">GitHub - dcos/dcos: DC/OS Build and Release tools</a>  </li>
<li><a href="https://mesosphere.com/google/">Mesosphere DCOS on Google Cloud Platform - Mesosphere</a>  </li>
<li><a href="https://techcrunch.com/2014/08/18/mesosphere-comes-to-the-google-cloud-platform-integrates-googles-kubernetes-project/">Mesosphere Comes To Google's Cloud Platform</a>  </li>
<li><a href="https://open.mesosphere.com/getting-started/install/">Setting up a Mesos and Marathon Cluster · Mesosphere</a>  </li>
<li><a href="https://github.com/google/cadvisor">GitHub - google/cadvisor: Analyzes resource usage and performance characteristics of running containers.</a>  </li>
</ul>
<hr />
<h1>ePUB 電子書現場包 by 雨蒼</h1>
<h2>為什麼要用 ePUB</h2>
<ul>
<li>Reflow  <ul>
<li>中文直排  </li>
<li>避頭尾點  </li>
<li>嵌入字體  </li>
</ul>
</li>
<li>支援字體特效  </li>
<li>Fixed Layout  <ul>
<li>一頁一圖  <ul>
<li>日本蠻多拿來做漫畫的  </li>
</ul>
</li>
<li>有聲朗讀  </li>
</ul>
</li>
<li>提供 DRM 版權保護  </li>
</ul>
<h2>ePUB 的結構</h2>
<ul>
<li>mimetype  </li>
<li>META-INF/container.xml  <ul>
<li>設定路徑  </li>
</ul>
</li>
<li>OEBPS/content.opf  <ul>
<li>整個 ePUB 最核心的地方  </li>
<li>metadata  </li>
<li>manifest  <ul>
<li>可放字體、圖片、CSS、XML，基本上就是個網頁  </li>
</ul>
</li>
<li>spine  <ul>
<li>整個 ePUB 的骨幹。（目錄、書本內容）  </li>
</ul>
</li>
<li>guide  <ul>
<li>導讀頁  </li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>打包流程</h2>
<p>製作 Markdown =&gt; <a href="http://conv.denshochan.com/tw">電電轉換器</a> =&gt; 解壓縮、修改、打包  </p>
<ul>
<li><a href="http://conv.denshochan.com/tw/markdown">電電轉換器有自己的特殊 Markdown format</a>  </li>
<li>表格  <ul>
<li><a href="http://www.convertcsv.com/csv-to-html.htm">csv to html converter</a>  </li>
<li>再貼上到 Markdown 裏面  </li>
</ul>
</li>
<li><a href="http://conv.denshochan.com/tw/config">電電設定檔</a>  <ul>
<li>使用 YAML 格式  </li>
<li>ddconv.yml  </li>
</ul>
</li>
<li>上傳打包  </li>
<li>修改檔案  <ul>
<li>使用 ePUB Packer 解壓縮  </li>
<li>使用 ePUB Checker 檢查語法是否有錯  </li>
</ul>
</li>
<li>修改 CSS  <ul>
<li>新增靠右對齊  </li>
<li>blockquote 從變成斜體修改成變成標楷體  </li>
</ul>
</li>
</ul>
<h2>實際打包</h2>
<ul>
<li>從 gitbook 到 ePUB  <ul>
<li>toc.ncx 很不好改，而且在 ePUB 不是必要的，所以可以直接砍掉  </li>
</ul>
</li>
</ul>
<h2>目前遇的問題</h2>
<ul>
<li>ePUB 的表格呈現不是很理想  </li>
</ul>
<h2>Q&amp;A</h2>
<p>Q: 自己做電子書要如何申請 ISBN?<br />
A: 我都交給別人申請，有需要的話可以找我，我幫你轉介給知道的人幫忙。  </p>
<p>電電轉換器是日本人開發的，<br />
目前還有些不足的地方，<br />
有時候會突然當掉。  </p>
<p>Q: 臺灣有沒有類似 <a href="https://www.bookscan.co.jp">https://www.bookscan.co.jp</a> 這種讓你寄實體書過去然後轉成電子書給你的服務？<br />
A: 臺灣目前好像沒有。  </p>
<p>Q: GitBook vs ePUB<br />
A: 一開始也是用 GitBook，但後來用電電轉換器這套以後，覺得這套方法比較好，因為這套方法產生出來的 ePUB 才能上架到 Google 等其他平台。但我通常還是會兩個都做，先弄 GitBook 的版本，然後再把 GitBook 產生的 markdown 全部合到一個 markdown 裡頭再用這套方法產生 ePUB。  </p>
<h2>Related Links</h2>
<ul>
<li><a href="https://g0v.hackpad.com/epub3-9zQsGYYU1TG">如何製作一本epub3電子書 - g0v.hackpad.com</a>  </li>
<li><a href="https://www.gitbook.com/book/jrf-tw/citizen_defend_rights_99_steps/details">小市民權益保護99招  - GitBook</a>  <ul>
<li><a href="https://jrf-tw.gitbooks.io/citizen_defend_rights_99_steps/content/">Introduction · 小市民權益保護99招</a>  </li>
</ul>
</li>
<li><a href="https://en.wikipedia.org/wiki/EPUB">EPUB - Wikipedia, the free encyclopedia</a>  </li>
</ul>
<hr />
<h1>Git 導入中小企業經驗分享 by Haway</h1>
<h2>真實遇到的問題</h2>
<ul>
<li>Clone 錯專案  </li>
<li>Add 錯檔案，不能 commit  </li>
<li>Merge 失敗  </li>
<li>Branch 是三小  </li>
<li>不會打版號  </li>
<li>SVN 的高手搗亂  </li>
</ul>
<h2>版本號如何決定</h2>
<p>就 <a href="http://semver.org/">Semantic Versioning 2.0.0</a>  </p>
<h2>Git 專案開始</h2>
<ul>
<li>與開發人員討論工作習慣  </li>
<li>瞭解開發環境與測試方式  </li>
<li>專案賣給 A 客戶後，也要賣給 B 客戶，但要微調需求，這時候要開新 branch 還是 clone 成新 project 來改？  <ul>
<li>clone 成新 project 來改，因為開新的 branch 的話，永遠不會 merge，開一個不會 merge 的 branch 幹嘛？  <blockquote>
<p>其實我沒有很認同這個，萬一要是要更改什麼功能或是修改 bug 呢？每個 repo 都要重覆改？跨 repo 的 cherry-pick？要是今天有 N 間公司呢？  </p>
</blockquote>
</li>
</ul>
</li>
<li>在一個 git repo 底下，什麼時候該用 <code>git init</code>？什麼時候該用 <code>git submodule</code>？  <ul>
<li>可以自己獨立運作的就 <code>git init</code>  </li>
<li>必須 depend 在現在這個 git repo 底下的就 <code>git submodule</code>  <blockquote>
<p>我也沒有很認同這個答案，基本上 submodule 對我來說就是有用到 git 的 dependency packages 就可以用。  </p>
</blockquote>
</li>
</ul>
</li>
</ul>
<blockquote>
<p>大部分都是喇賽性質，<br />
覺得這個 Talk 應該叫做 「大家一起來嘲笑 git 新手會做的那些蠢事」，<br />
本來是預期這個 talk 應該會講遇到的困難，<br />
然後怎麼設計出一個使用模式或者解法，<br />
讓不太會使用 git 的人也能夠開發。<br />
或者是怎樣的教學可以讓這些新手比較快瞭解 git 的概念，<br />
而不是只是提到遇到的問題然後一直抱怨，<br />
這個在 Twitter 上嘴炮就好了啊，<br />
沒必要開個 talk 吧 XD  </p>
</blockquote>
<hr />
<h1>淺談 Ansible 組態管理工具 by Sakana</h1>
<p>這個應該跟我半年前聽的那場內容是一樣的，<br />
<a href="/posts/2015/12/26/study-area-ansible-tutorial-note/">2015 12 月份 SA@Tainan 淺談 Ansible 自動化組態管理工具之筆記</a><br />
這次有補充的內容我會集中整理在這份裡頭，不會記這在篇。  </p>
<hr />
<h1>現代 IT 人一定要知道的 Ansible 自動化組態技巧 by 凍仁翔</h1>
<h2>Roles 是什麼？</h2>
<p>"Scalinig Up Your Playbooks" - Ansbile: Up and Running  </p>
<h2>怎麼使用 Roles</h2>
<ul>
<li><a href="https://galaxy.ansible.com">https://galaxy.ansible.com</a>  </li>
<li>安裝 Roles  <ul>
<li><code>$ ansible-galaxy install {ansible-roles}</code>  </li>
</ul>
</li>
<li>初始化  <ul>
<li><code>$ ansible-galaxy init {ansible-roles}</code>  </li>
<li><a href="https://galaxy.ansible.com/intro">https://galaxy.ansible.com/intro</a>  </li>
</ul>
</li>
</ul>
<h2>Windows Support 是什麼？</h2>
<ul>
<li><a href="https://docs.ansible.com/ansible/intro_windows.html">https://docs.ansible.com/ansible/intro_windows.html</a>  </li>
<li>Ansible 2.0 對 Windows Managed node 的支援度大幅提升  <ul>
<li>換句話說，就是 2.0 以前的支援度蠻雷的 XD  </li>
</ul>
</li>
<li>透過 inventory 定義 Managed node 透過 WinRM, SSH, PowerShell 來佈署  </li>
</ul>
<h2>怎麼用 Ansible 管 Windows Server？</h2>
<ul>
<li>怎麼佈署 Control Node?  <ul>
<li>安裝 Ansible 和 pywinrm  </li>
</ul>
</li>
<li>怎麼佈署 Managed Node?  <ul>
<li>開啟 WinRM: <a href="https://github.com/ansible/ansible/blob/devel/examples/scripts/ConfigureRemotingForAnsible.ps1">https://github.com/ansible/ansible/blob/devel/examples/scripts/ConfigureRemotingForAnsible.ps1</a>  <ul>
<li>若網路有問題，改成私人網路(Private Network)  </li>
</ul>
</li>
<li>安裝 PowerShell  </li>
<li>關閉 UAC  <ul>
<li>沒關的話，可能會造成部份 tasks 被中斷。(Optional，視情況而定，可能會遇到，也可能不會遇到）  </li>
</ul>
</li>
</ul>
</li>
<li>怎麼設定 Ansible？  </li>
<li>Inventory 是什麼？  <ul>
<li>主要用來定義 Managed Node 的 IP 與 Group，也可以用來設定 WinRM 連線資訊。  </li>
<li>在控管 Windows Managed node 前，還需要設定一些 inventory 變數。  <ul>
<li><code>ansible_connection: winrm</code>  </li>
<li><code>ansible_port: 5968</code>  </li>
</ul>
</li>
</ul>
</li>
<li>怎麼用 Ad-Hoc command 管 Windows？  <ul>
<li><code>ansible &lt;主機名稱&gt; -m &lt;模組&gt; -a &lt;參數1&gt; &lt;參數2&gt;</code>  </li>
<li><code>ansible all -m win_ping</code>  </li>
</ul>
</li>
<li>怎麼用 Playbooks 和 Roles 管 Windows？  </li>
</ul>
<div class="highlight"><pre><span></span><span class="l l-Scalar l-Scalar-Plain">setup.yaml</span>  
<span class="l l-Scalar l-Scalar-Plain">===</span>  
<span class="l l-Scalar l-Scalar-Plain">hosts</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">all</span>  
<span class="l l-Scalar l-Scalar-Plain">roles</span><span class="p p-Indicator">:</span>  
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">chusiang.win_vim</span>  

<span class="l l-Scalar l-Scalar-Plain">tasks</span><span class="p p-Indicator">:</span>  
  <span class="p p-Indicator">-</span> <span class="l l-Scalar l-Scalar-Plain">name</span><span class="p p-Indicator">:</span> <span class="l l-Scalar l-Scalar-Plain">copy check vim version file</span>  
    <span class="l l-Scalar l-Scalar-Plain">win_template</span><span class="p p-Indicator">:</span>  
      <span class="l l-Scalar l-Scalar-Plain">src</span><span class="p p-Indicator">:</span> <span class="s">&#39;templates/check_vim_version.bat.2&#39;</span>  

<span class="nn">...</span>  
</pre></div>


<h3>Demo</h3>
<p><a href="https://youtu.be/wZLT1B_uh9Q">https://youtu.be/wZLT1B_uh9Q</a>  </p>
<h2>怎麼避開 Windows Playbooks 路徑地雷？</h2>
<ol>
<li>使用 <code>key:value</code> 寫法會比 <code>key=value</code> 少採點雷  <ul>
<li>後者會不時遇到路徑無法辨識的問題  </li>
</ul>
</li>
<li>避免在行尾使用 <code>\</code>  </li>
<li>遇到 <code>\</code> 可以是用 <code>\\</code> 來代替，因為 Windows 原先就會這樣解析路徑。  </li>
<li>特殊符號解析有誤？  <ul>
<li>先寫好批次檔  </li>
</ul>
</li>
<li>在 Playbooks 裡，<code>/</code> 作為路徑的分隔符號是有效的。  </li>
</ol>
<h2>Ansible 常用的 Windows 有哪些？</h2>
<ol>
<li><code>raw</code>: Executes a low-down andy dirty SSH command.  </li>
<li><code>win_copy</code>  </li>
<li><code>win_file</code>  </li>
<li><code>win_get_url</code>  </li>
<li><code>win_lineinfile</code>  </li>
<li><code>win_msi</code>  </li>
<li><code>win_ping</code>  </li>
<li>...  </li>
<li>...  </li>
<li>...  </li>
</ol>
<h2>References</h2>
<ul>
<li><a href="https://github.com/chusiang/studyarea1607-ansible-demo">GitHub - chusiang/studyarea1607-ansible-demo: Ansible Playbook Roles Demo on StudyArea Summit 2016.</a>  </li>
<li><a href="https://www.ansible.com/ansible-book">Ansible Up and Running eBook Preview | Ansible.com</a>  </li>
</ul>
<h2>Q&amp;A</h2>
<p>Q: Playbooks 怎麼管理比較好？<br />
A: 可以參考 <a href="https://docs.ansible.com/ansible/playbooks_best_practices.html">Best Practices — Ansible Documentation</a>  </p>
<p>Q: 是不是一定要透過 MSI? 有沒有遇過 AD server 上的問題？<br />
A: AD server 的雷有遇到，然後因為我其實比較常用 Linux 和 Mac，所以大部份都是從 <a href="https://docs.ansible.com/ansible/list_of_windows_modules.html">Windows Modules — Ansible Documentation</a> 拿一些現成的來用。  </p>
<hr />
<h1>Nokia Bell Labs 面試經驗 by 小飛機</h1>
<h2>心得</h2>
<ul>
<li>英文超級無敵重要  </li>
<li>平時要多參與 Open Source 專案累積經驗  <blockquote>
<p>個人覺得還要注意的重點是深度，而且專案最好都要彼此有相關。  </p>
</blockquote>
</li>
<li>面試一定要準備  </li>
<li>做的專案要能夠適當的行銷  <ul>
<li>雖然當時的重點是放在怎麼 promote Taiwan  </li>
</ul>
</li>
<li>正常歐洲處理速度超慢  <ul>
<li>從第一天寄信到面試過了一個月  </li>
<li>歐洲還會放暑假  </li>
<li>下班就下班了，沒在看 mail 的，所以約的時間常常很慢才看到就錯過。  </li>
</ul>
</li>
<li>當然還需要點運氣  </li>
</ul>
  </div>

    <hr>
    <section>
        <p id="post-share-links">
            <h3>Share</h3>
            <a href="https://twitter.com/intent/tweet?text=Study-Area%202016%20%E7%BE%A4%E8%8B%B1%E6%9C%83%0Ahttps%3A//blog.m157q.tw/posts/2016/07/16/study-area-summit-2016/%0Avia%20%40M157q%0A" target="_blank" title="Share on Twitter"><i class="fa fa-twitter-square fa-3x"></i></a>
            <a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A//blog.m157q.tw/posts/2016/07/16/study-area-summit-2016/" target="_blank" title="Share on Facebook"><i class="fa fa-facebook-square fa-3x"></i></a>
            <a href="https://plus.google.com/share?url=https%3A//blog.m157q.tw/posts/2016/07/16/study-area-summit-2016/" target="_blank" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-3x"></i></a>
            <a href="mailto:?subject=Study-Area%202016%20%E7%BE%A4%E8%8B%B1%E6%9C%83&amp;body=https%3A//blog.m157q.tw/posts/2016/07/16/study-area-summit-2016/" target="_blank" title="Share via Email"><i class="fa fa-envelope-o fa-3x"></i></a>
        </p>
    </section>

<hr>
<section id="donation">
    <h3>Donation</h3>
    <p id="donation-chinese">
      如果覺得這篇文章對你有幫助，
      除了留言讓我知道外，
      或許也可以考慮請我喝杯咖啡，
      不論金額多寡我都會非常感激且能鼓勵我繼續寫出對你有幫助的文章。
    </p>
    <p id="donation-english">
      If this blog post happens to be helpful to you, besides of leaving a reply, you may consider buy me a cup of coffee to support me. It would help me write more articles helpful to you in the future and I would really appreciate it.
    </p>
    <ul id="donation-address">
			<li><a href="https://payment.opay.tw/Broadcaster/Donate/4E163AAE10E448A30DB244CF85527271">歐付寶</a></li>

			<li><a href="https://www.paypal.me/m157q">PayPal</a></li>

			<li>BTC: <a href="https://blockchain.info/address/1HWMzBGTQ8VUJGXgvSDzAFacfeY2sLiZda">1HWMzBGTQ8VUJGXgvSDzAFacfeY2sLiZda</a></li>

			<li>ETH: <a href="https://etherscan.io/address/0x0380433c5cdda13c8cd6cff5ddbcc1d7701bcb83">0x0380433c5cdda13c8cd6cff5ddbcc1d7701bcb83</a></li>

			<li>LTC: <a href="https://chainz.cryptoid.info/ltc/address.dws?LUFkjq32kEAiYqnMG25isqGNdgkehj9rJT.htm">LUFkjq32kEAiYqnMG25isqGNdgkehj9rJT</a></li>
    </ul>
</section>

    <hr>
    <h3>Related Posts</h3>
    <!-- TODO: Use fancier related layout, as in http://kevin.deldycke.com/2012/04/beautify-contextual-related-posts-wordpress-plugin/ -->
    <ul>
        <li><a href="https://blog.m157q.tw/posts/2017/06/26/y2017w25/">Y2017W25</a></li>
        <li><a href="https://blog.m157q.tw/posts/2015/12/26/study-area-ansible-tutorial-note/">2015 12 月份 SA@Tainan 淺談 Ansible 自動化組態管理工具之筆記</a></li>
        <li><a href="https://blog.m157q.tw/posts/2015/03/20/github-talk-advanced-git-and-ci-in-nctu/">GitHub Talk - Advanced Git and CI in NCTU</a></li>
        <li><a href="https://blog.m157q.tw/posts/2017/06/05/y2017w22/">Y2017W22</a></li>
        <li><a href="https://blog.m157q.tw/posts/2016/12/12/y2016w49/">Y2016W49</a></li>
      </ul>

    <div class="comments">
      <div id="disqus_thread"></div>
	  <script type="text/javascript">
        var disqus_shortname = 'm157q-logdown';
        var disqus_identifier = "posts/2016/07/16/study-area-summit-2016/";
        var disqus_title = "Study-Area 2016 群英會";
        var disqus_url = "https://blog.m157q.tw/posts/2016/07/16/study-area-summit-2016/";

        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
        };
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus</a>.</noscript>
    </div>

        </div>

          <div class="col-md-3">
  <div class="well">

    <p><abbr title="2016-07-16T16:28:58+08:00"><i class="fa fa-calendar"></i> Sat 16 July 2016</abbr></p>


      <p><address>
        <i class="fa fa-user"></i> By
          <a href="https://blog.m157q.tw/author/m157q.html" rel="author">m157q</a>
      </address></p>

    <hr/>

      <p>
              <p>
              <a href="https://blog.m157q.tw/category/confmeetup/" rel="tag"
                  data-toggle="tooltip"
                  class="label label-info"
                  title="48 articles in this category">Conf/Meetup</a>
              </p>
            <a href="/tag/git/" data-toggle="tooltip"
      class="label label-default"
      title="17 articles with this tag">git</a>
  <br>
            <a href="/tag/devops/" data-toggle="tooltip"
      class="label label-default"
      title="9 articles with this tag">devops</a>
  <br>
            <a href="/tag/ansible/" data-toggle="tooltip"
      class="label label-default"
      title="3 articles with this tag">Ansible</a>
  <br>
            <a href="/tag/dcos/" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">DC/OS</a>
  <br>
            <a href="/tag/epub/" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">ePUB</a>
  <br>
            <a href="/tag/sdn/" data-toggle="tooltip"
      class="label label-default"
      title="1 article with this tag">SDN</a>
  <br>
      </p>
      <hr/>


      <nav>
        <ul class="pager">
          <li class="previous ">
            <a  href="https://blog.m157q.tw/posts/2016/07/14/蟬堡-沒有夢的小鎮/" title="《蟬堡：沒有夢的小鎮》"  rel="prev">
              <span aria-hidden="true">←</span> Older
            </a>
          </li>
          <li class="next ">
            <a  href="https://blog.m157q.tw/posts/2016/07/17/y2016w28/" title="Y2016W28"  rel="next">
              Newer <span aria-hidden="true">→</span>
            </a>
          </li>
        </ul>
      </nav>

  </div>
            
          </div>

      </div>

    </div>

    <!-- TODO: make footer sticky -->
    <footer class="container-fluid">
      <div class="container">
        <div class="row">

            <div class="col-md-2">
                <h5>Social</h5>
                <ul class="list-unstyled">
                  <li>  <a href="https://github.com/M157q">
      <i class="fa fa-github"></i>
    GitHub
  </a></li>
                  <li>  <a href="https://www.twitter.com/M157q">
      <img src="https://icons.better-idea.org/icon?url=www.twitter.com&size=16" width="16" height="16" class="icon" alt="www.twitter.com icon"/>
    Twitter
  </a></li>
                </ul>
            </div>
            <div class="col-md-2">
                <h5>Links</h5>
                <ul class="list-unstyled">
                  <li>  <a href="http://getpelican.com/">
      <img src="https://icons.better-idea.org/icon?url=getpelican.com&size=16" width="16" height="16" class="icon" alt="getpelican.com icon"/>
    Pelican
  </a></li>
                  <li>  <a href="http://python.org/">
      <img src="https://icons.better-idea.org/icon?url=python.org&size=16" width="16" height="16" class="icon" alt="python.org icon"/>
    Python.org
  </a></li>
                  <li>  <a href="http://jinja.pocoo.org/">
      <img src="https://icons.better-idea.org/icon?url=jinja.pocoo.org&size=16" width="16" height="16" class="icon" alt="jinja.pocoo.org icon"/>
    Jinja2
  </a></li>
                </ul>
            </div>

          <div class="col-md-2">
            <h5>Browse content by</h5>
            <ul class="list-unstyled">
                <li><a href="https://blog.m157q.tw/categories/index.html"><i class="fa fa-tags"></i> Categories</a></li>
                <li><a href="https://blog.m157q.tw/archives/index.html"><i class="fa fa-calendar"></i> Dates</a></li>
                <li><a href="https://blog.m157q.tw/tags/index.html"><i class="fa fa-tag"></i> Tags</a></li>
            </ul>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Copyright notice</h5>
            <p>© Copyright 2013-2018 m157q.</p>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Disclaimer</h5>
              <p>All opinions expressed in this site are my own personal opinions and are not endorsed by, nor do they represent the opinions of my previous, current and future employers or any of its affiliates, partners or customers.</p>
          </div>

          <div class="col-md-2">
              <h5>Feeds</h5>
              <ul class="list-unstyled">
                  <li><small><a href="https://blog.m157q.tw/feeds/all.feed.atom.xml"><i class="fa fa-rss"></i> All posts (Atom)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/all.feed.rss.xml"><i class="fa fa-rss"></i> All posts (RSS)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/atom.xml"><i class="fa fa-rss"></i> Latest posts (Atom)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/rss.xml"><i class="fa fa-rss"></i> Latest posts (RSS)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/category.confmeetup.atom.xml"><i class="fa fa-rss"></i> Category: Conf/Meetup (Atom)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/category.confmeetup.rss.xml"><i class="fa fa-rss"></i> Category: Conf/Meetup (RSS)</a></small></li>
              </ul>
          </div>

        </div>
      </div>

      <h5 class="text-right"><a href="#"><i class="fa fa-arrow-up"></i> Back to top</a></h5>

      <div class="container">
        <div class="row col-md-12 text-muted text-center">
          Site generated by <a href="https://getpelican.com"> Pelican</a>.<br/>
          <a href="https://github.com/kdeldycke/plumage"> Plumage</a> theme by <a href="https://kevin.deldycke.com">Kevin Deldycke</a>.
        </div>
      </div>

    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
    <script src="https://blog.m157q.tw/theme/js/jquery.mglass.js"></script>
    <script src="https://blog.m157q.tw/theme/js/application.js"></script>

  </body>
</html>