<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>  Golang Taipei Gathering #24
 | Just for noting</title>

    <meta name="author" content="m157q"/>

    <!-- Bootstrap -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css"/>
    <link rel="stylesheet" href="https://blog.m157q.tw/theme/css/jquery.mglass.css"/>
    <link rel="stylesheet" href="https://blog.m157q.tw/theme/css/pygment-solarized-dark.css"/>
    <link rel="stylesheet" href="https://blog.m157q.tw/theme/css/style.css"/>

    <!-- Fonts -->
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Istok+Web' rel='stylesheet' type='text/css'/>
    <link href='https://fonts.googleapis.com/css?family=Droid+Sans+Mono' rel='stylesheet' type='text/css'/>


    <link rel="icon" href="https://blog.m157q.tw/favicon.ico" type="image/x-icon">
    <link rel="shortcut icon" href="https://blog.m157q.tw/favicon.ico" type="image/x-icon">

    <!-- Feeds -->
      <link href="https://blog.m157q.tw/feeds/all.feed.atom.xml" type="application/atom+xml" rel="alternate" title="Just for noting - All posts - Atom Feed"/>
      <link href="https://blog.m157q.tw/feeds/all.feed.rss.xml" type="application/rss+xml" rel="alternate" title="Just for noting - All posts - RSS Feed"/>
      <link href="https://blog.m157q.tw/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Just for noting - Latest posts - Atom Feed"/>
      <link href="https://blog.m157q.tw/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Just for noting - Latest posts - RSS Feed"/>
      <link href="https://blog.m157q.tw/feeds/category.confmeetup.atom.xml" type="application/atom+xml" rel="alternate" title="Just for noting - Category: Conf/Meetup - Atom Feed"/>
      <link href="https://blog.m157q.tw/feeds/category.confmeetup.rss.xml" type="application/rss+xml" rel="alternate" title="Just for noting - Category: Conf/Meetup - RSS Feed"/>

    <script type="text/javascript">
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-45367183-2', 'auto');
    ga('send', 'pageview');
    </script>



  </head>

  <body>

    <div class="container">

      <div class="page-header">
        <h1><a href="https://blog.m157q.tw">Just for noting</a> <small></small></h1>
      </div>

      <nav class="navbar navbar-default">

        <!-- Hamburger menu for mobile -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#plumage-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="https://blog.m157q.tw" title="">Just for noting</a>
        </div>

        <!-- Menus and search forms -->
        <div class="collapse navbar-collapse" id="plumage-navbar-collapse-1">

          <ul class="nav navbar-nav">
<li >
                <a href="/categories">Categories</a>
              </li>
<li >
                <a href="/archives">Archives</a>
              </li>
<li >
                <a href="/tags">Tags</a>
              </li>
<li >
                  <a href="https://blog.m157q.tw/pages/cv/">CV</a>
                </li>
          </ul>


            <form class="navbar-form navbar-right" role="search" action="https://blog.m157q.tw/search.html" onsubmit="return validateForm(this.elements['q'].value);">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" name="q" id="tipue_search_input" class="form-control search-query" placeholder="Search" required />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit"><i class="fa
                        fa-search fa-fw"></i></button>
                  </span>
                </div>
              </div>
            </form>

        </div>

      </nav>

    </div>


    <div class="container main">


      <div class="row">
        <div class=" col-md-9  ">
  <h1>
    <a href="https://blog.m157q.tw/posts/2017/05/23/golang-taipei-gathering-24/" rel="bookmark" title="Permalink to Golang Taipei Gathering #24">Golang Taipei Gathering #24</a>
  </h1>
        </div>
      </div>

      <div class="row">


        <div class=" col-md-9 " id="content" role="main">
  

  <blockquote>
    <p>Note for Golang Taipei Gathering #24</p>
  </blockquote>
  <div>
    <ul>
<li>Links  <ul>
<li>KKTIX: <a href="https://golang.kktix.cc/events/gtg24">https://golang.kktix.cc/events/gtg24</a>  </li>
<li>GitHub: <a href="https://github.com/golangtw/GolangTaiwanGathering/tree/master/meetup/gtg24">https://github.com/golangtw/GolangTaiwanGathering/tree/master/meetup/gtg24</a>  </li>
</ul>
</li>
</ul>
<hr />
<h3>鮑承佑: go-swagger 踩雷分享</h3>
<ul>
<li>Slides  <ul>
<li><a href="https://github.com/golangtw/GolangTaiwanGathering/blob/master/meetup/gtg24/gogland_and_go-swagger.pdf">https://github.com/golangtw/GolangTaiwanGathering/blob/master/meetup/gtg24/gogland_and_go-swagger.pdf</a>  </li>
</ul>
</li>
<li><a href="https://github.com/go-swagger/go-swagger">https://github.com/go-swagger/go-swagger</a>  </li>
<li><a href="https://www.jetbrains.com/go/">Gogland</a>  </li>
</ul>
<p>寫 <code>swagger.yaml</code> 可以 generate golang code for web server  </p>
<hr />
<h3>Genji Lu: Golang GC 演算法</h3>
<ul>
<li>Slides  <ul>
<li><a href="https://www.slideshare.net/GenchiLu/gc-in-golang-76250675">https://www.slideshare.net/GenchiLu/gc-in-golang-76250675</a>  </li>
</ul>
</li>
<li><a href="https://en.wikipedia.org/wiki/Tracing_garbage_collection#Tri-color_marking">Tri-color GC</a>  <ul>
<li>mark phase &amp; sweep phase  </li>
</ul>
</li>
<li>Write Barrier  </li>
<li><a href="https://blog.golang.org/go15gc">Go GC: Prioritizing low latency and simplicity - The Go Blog</a>  <ul>
<li>Golang 1.5 時的文章，以降低 latency 為主。  </li>
<li>Golang 1.5 公佈了這個 low latency 為主的 Garbage Collector  </li>
</ul>
</li>
<li>tradeoff  <ul>
<li>Tricolor GC 能達到極短暫的 pause time，但相對的付出代價  <ul>
<li>heap size 不可預期性  </li>
<li>頻繁產生新物件時，throughput 會較低，CPU 時間花在 GC 上的比例較高  </li>
<li>潛在風險：記憶體破碎  </li>
</ul>
</li>
</ul>
</li>
<li>實測 GC example code  <ul>
<li><code>GODEBUG=gctrace=1</code>  <ul>
<li><code>$ GODEBUG=gctrace=1 go run main.go</code>  </li>
</ul>
</li>
</ul>
</li>
<li><a href="https://golang.org/pkg/runtime/pprof/">runtime/pprof</a>  </li>
<li>net/pprof  <ul>
<li>http://127.0.0.1:7777/debug/pprof  </li>
</ul>
</li>
<li>Golang 對 GC 的優化  <ul>
<li>1.6: 在 rescan stack 階段會檢查自從上次 STW (stop-the-world) 之後該 goroutine 是否有執行過，否則不 scan 該 stack。  </li>
<li>1.7: 用一個 list 紀錄所有自從上次 STW 以後有執行過的 goroutine，在 rescane 階段不用 scan 所有 stack。  </li>
<li>1.8: 修改 write barrier 消除 stack re-scan 的必要性。  </li>
</ul>
</li>
<li>Related materials  <ul>
<li><a href="https://dave.cheney.net/tag/godebug">GODEBUG | Dave Cheney</a>  </li>
<li><a href="https://segmentfault.com/a/1190000004233812">[译]GC专家系列1：理解Java垃圾回收 - 牧曦之晨 - SegmentFault</a>  <ul>
<li>
<blockquote>
<p>STW:「回到垃圾回收上，在開始學習GC之前你應該知道一個詞：stop-the-world。不管選擇哪種GC算法，stop-the-world都是不可避免的。Stop-the-world意味著從應用中停下來並進入到GC執行過程中去。一旦Stop-the-world發生，除了GC所需的線程外，其他線程都將停止工作，中斷了的線程直到GC任務結束才繼續它們的任務。GC調優通常就是為了改善stop-the-world的時間。」  </p>
</blockquote>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr />
<h3>Linzy: 介紹 Testify 的 mock 功能</h3>
<ul>
<li>Slides  <ul>
<li><a href="https://github.com/golangtw/GolangTaiwanGathering/blob/master/meetup/gtg24/testify_gtg24.zip">https://github.com/golangtw/GolangTaiwanGathering/blob/master/meetup/gtg24/testify_gtg24.zip</a>  </li>
</ul>
</li>
<li><a href="https://github.com/stretchr/testify">https://github.com/stretchr/testify</a>  <ul>
<li>A sacred extension to the standard go testing package  </li>
</ul>
</li>
<li><a href="https://github.com/stretchr/testify#mock-package">https://github.com/stretchr/testify#mock-package</a>  </li>
<li><code>mock.AnythingOfType("string")</code>  </li>
<li>Chain your expectations  </li>
<li>Verify your expectations  <ul>
<li><code>mock.AssertCalled(t, "foo", "bar")</code>  </li>
</ul>
</li>
</ul>
<hr />
<h3>Stan Lo: Rooby: A new object oriented language written in Go aim at developing microservice efficiently</h3>
<p>是這篇<a href="https://medium.com/@st0012/%E5%AF%AB%E8%87%AA%E5%B7%B1%E7%9A%84%E7%A8%8B%E5%BC%8F%E8%AA%9E%E8%A8%80-for-rubyist-3f055c4573da">寫自己的程式語言（For Rubyist） – Stan Lo – Medium</a> 的作者本人耶  </p>
<ul>
<li>Slides  <ul>
<li><a href="https://www.slideshare.net/LoStan/goby-76176699">https://www.slideshare.net/LoStan/goby-76176699</a>  </li>
</ul>
</li>
<li><a href="https://github.com/goby-lang/goby">GitHub - goby-lang/goby: Goby (Rooby) is a new object oriented language written in Go aim at developing microservice efficiently.</a>  <ul>
<li>從 Rooby 改名叫 Goby 了，因為被罵翻了，一堆人寫信或開 issue 建議改名 XDDD  </li>
</ul>
</li>
<li><a href="https://goby-lang.github.io/goby/">https://goby-lang.github.io/goby/</a>  <ul>
<li>目的是想用 Ruby 的語法來做到像 Golang 一樣的 High Performance 的 Language  </li>
<li>Goby is not  <ul>
<li>A new implementation of Ruby  </li>
<li>Syntax sugar for Golang.  </li>
</ul>
</li>
<li>Why Golang?  <ul>
<li>已經對 Golang 有興趣一陣子  </li>
<li>效能不錯  </li>
<li>GC 和底層的事可以交給 Golang，自己則專心在 VM 上面的開發  </li>
</ul>
</li>
<li>上禮拜五辭職來全職開發這個語言，希望大家可以<a href="https://gratipay.com/goby/">捐助一點錢</a> XD  </li>
<li>目前開發完成度大概是 first release 的 70%  </li>
<li>歡迎大家送 PR，就算是改個錯字也可以。  </li>
</ul>
</li>
</ul>
  </div>

    <hr>
    <section>
        <p id="post-share-links">
            <h3>Share</h3>
            <a href="https://twitter.com/intent/tweet?text=Golang%20Taipei%20Gathering%20%2324%0Ahttps%3A//blog.m157q.tw/posts/2017/05/23/golang-taipei-gathering-24/%0Avia%20%40M157q%0A" target="_blank" title="Share on Twitter"><i class="fa fa-twitter-square fa-3x"></i></a>
            <a href="https://www.facebook.com/sharer/sharer.php?s=100&amp;p%5Burl%5D=https%3A//blog.m157q.tw/posts/2017/05/23/golang-taipei-gathering-24/" target="_blank" title="Share on Facebook"><i class="fa fa-facebook-square fa-3x"></i></a>
            <a href="https://plus.google.com/share?url=https%3A//blog.m157q.tw/posts/2017/05/23/golang-taipei-gathering-24/" target="_blank" title="Share on Google Plus"><i class="fa fa-google-plus-square fa-3x"></i></a>
            <a href="mailto:?subject=Golang%20Taipei%20Gathering%20%2324&amp;body=https%3A//blog.m157q.tw/posts/2017/05/23/golang-taipei-gathering-24/" target="_blank" title="Share via Email"><i class="fa fa-envelope-o fa-3x"></i></a>
        </p>
    </section>

<hr>
<section id="donation">
    <h3>Donation</h3>
    <p id="donation-chinese">
      如果覺得這篇文章對你有幫助，
      除了留言讓我知道外，
      或許也可以考慮請我喝杯咖啡，
      不論金額多寡我都會非常感激且能鼓勵我繼續寫出對你有幫助的文章。
    </p>
    <p id="donation-english">
      If this blog post happens to be helpful to you, besides of leaving a reply, you may consider buy me a cup of coffee to support me. It would help me write more articles helpful to you in the future and I would really appreciate it.
    </p>
    <ul id="donation-address">
			<li><a href="https://payment.opay.tw/Broadcaster/Donate/4E163AAE10E448A30DB244CF85527271">歐付寶</a></li>

			<li><a href="https://www.paypal.me/m157q">PayPal</a></li>

			<li>BTC: <a href="https://blockchain.info/address/1HWMzBGTQ8VUJGXgvSDzAFacfeY2sLiZda">1HWMzBGTQ8VUJGXgvSDzAFacfeY2sLiZda</a></li>

			<li>ETH: <a href="https://etherscan.io/address/0x0380433c5cdda13c8cd6cff5ddbcc1d7701bcb83">0x0380433c5cdda13c8cd6cff5ddbcc1d7701bcb83</a></li>

			<li>LTC: <a href="https://chainz.cryptoid.info/ltc/address.dws?LUFkjq32kEAiYqnMG25isqGNdgkehj9rJT.htm">LUFkjq32kEAiYqnMG25isqGNdgkehj9rJT</a></li>
    </ul>
</section>

    <hr>
    <h3>Related Posts</h3>
    <!-- TODO: Use fancier related layout, as in http://kevin.deldycke.com/2012/04/beautify-contextual-related-posts-wordpress-plugin/ -->
    <ul>
        <li><a href="https://blog.m157q.tw/posts/2017/05/01/y2017w17/">Y2017W17</a></li>
        <li><a href="https://blog.m157q.tw/posts/2017/08/28/y2017w34/">Y2017W34</a></li>
        <li><a href="https://blog.m157q.tw/posts/2017/04/24/y2017w16/">Y2017W16</a></li>
        <li><a href="https://blog.m157q.tw/posts/2016/08/15/y2016w32/">Y2016W32</a></li>
        <li><a href="https://blog.m157q.tw/posts/2017/04/03/y2017w13/">Y2017W13</a></li>
      </ul>

    <div class="comments">
      <div id="disqus_thread"></div>
	  <script type="text/javascript">
        var disqus_shortname = 'm157q-logdown';
        var disqus_identifier = "posts/2017/05/23/golang-taipei-gathering-24/";
        var disqus_title = "Golang Taipei Gathering #24";
        var disqus_url = "https://blog.m157q.tw/posts/2017/05/23/golang-taipei-gathering-24/";

        var disqus_config = function () {
            this.page.url = disqus_url;
            this.page.identifier = disqus_identifier;
        };
        (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
      </script>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus</a>.</noscript>
    </div>

        </div>

          <div class="col-md-3">
  <div class="well">

    <p><abbr title="2017-05-23T21:46:45+08:00"><i class="fa fa-calendar"></i> Tue 23 May 2017</abbr></p>


      <p><address>
        <i class="fa fa-user"></i> By
          <a href="https://blog.m157q.tw/author/m157q.html" rel="author">m157q</a>
      </address></p>

    <hr/>

      <p>
              <p>
              <a href="https://blog.m157q.tw/category/confmeetup/" rel="tag"
                  data-toggle="tooltip"
                  class="label label-info"
                  title="48 articles in this category">Conf/Meetup</a>
              </p>
            <a href="/tag/golang/" data-toggle="tooltip"
      class="label label-default"
      title="17 articles with this tag">Golang</a>
  <br>
      </p>
      <hr/>


      <nav>
        <ul class="pager">
          <li class="previous ">
            <a  href="https://blog.m157q.tw/posts/2017/05/22/y2017w20/" title="Y2017W20"  rel="prev">
              <span aria-hidden="true">←</span> Older
            </a>
          </li>
          <li class="next ">
            <a  href="https://blog.m157q.tw/posts/2017/05/29/y2017w21/" title="Y2017W21"  rel="next">
              Newer <span aria-hidden="true">→</span>
            </a>
          </li>
        </ul>
      </nav>

  </div>
            
          </div>

      </div>

    </div>

    <!-- TODO: make footer sticky -->
    <footer class="container-fluid">
      <div class="container">
        <div class="row">

            <div class="col-md-2">
                <h5>Social</h5>
                <ul class="list-unstyled">
                  <li>  <a href="https://github.com/M157q">
      <i class="fa fa-github"></i>
    GitHub
  </a></li>
                  <li>  <a href="https://www.twitter.com/M157q">
      <img src="https://icons.better-idea.org/icon?url=www.twitter.com&size=16" width="16" height="16" class="icon" alt="www.twitter.com icon"/>
    Twitter
  </a></li>
                </ul>
            </div>
            <div class="col-md-2">
                <h5>Links</h5>
                <ul class="list-unstyled">
                  <li>  <a href="http://getpelican.com/">
      <img src="https://icons.better-idea.org/icon?url=getpelican.com&size=16" width="16" height="16" class="icon" alt="getpelican.com icon"/>
    Pelican
  </a></li>
                  <li>  <a href="http://python.org/">
      <img src="https://icons.better-idea.org/icon?url=python.org&size=16" width="16" height="16" class="icon" alt="python.org icon"/>
    Python.org
  </a></li>
                  <li>  <a href="http://jinja.pocoo.org/">
      <img src="https://icons.better-idea.org/icon?url=jinja.pocoo.org&size=16" width="16" height="16" class="icon" alt="jinja.pocoo.org icon"/>
    Jinja2
  </a></li>
                </ul>
            </div>

          <div class="col-md-2">
            <h5>Browse content by</h5>
            <ul class="list-unstyled">
                <li><a href="https://blog.m157q.tw/categories/index.html"><i class="fa fa-tags"></i> Categories</a></li>
                <li><a href="https://blog.m157q.tw/archives/index.html"><i class="fa fa-calendar"></i> Dates</a></li>
                <li><a href="https://blog.m157q.tw/tags/index.html"><i class="fa fa-tag"></i> Tags</a></li>
            </ul>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Copyright notice</h5>
            <p>© Copyright 2013-2018 m157q.</p>
          </div>

          <div class="col-md-2 text-muted">
            <h5>Disclaimer</h5>
              <p>All opinions expressed in this site are my own personal opinions and are not endorsed by, nor do they represent the opinions of my previous, current and future employers or any of its affiliates, partners or customers.</p>
          </div>

          <div class="col-md-2">
              <h5>Feeds</h5>
              <ul class="list-unstyled">
                  <li><small><a href="https://blog.m157q.tw/feeds/all.feed.atom.xml"><i class="fa fa-rss"></i> All posts (Atom)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/all.feed.rss.xml"><i class="fa fa-rss"></i> All posts (RSS)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/atom.xml"><i class="fa fa-rss"></i> Latest posts (Atom)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/rss.xml"><i class="fa fa-rss"></i> Latest posts (RSS)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/category.confmeetup.atom.xml"><i class="fa fa-rss"></i> Category: Conf/Meetup (Atom)</a></small></li>
                  <li><small><a href="https://blog.m157q.tw/feeds/category.confmeetup.rss.xml"><i class="fa fa-rss"></i> Category: Conf/Meetup (RSS)</a></small></li>
              </ul>
          </div>

        </div>
      </div>

      <h5 class="text-right"><a href="#"><i class="fa fa-arrow-up"></i> Back to top</a></h5>

      <div class="container">
        <div class="row col-md-12 text-muted text-center">
          Site generated by <a href="https://getpelican.com"> Pelican</a>.<br/>
          <a href="https://github.com/kdeldycke/plumage"> Plumage</a> theme by <a href="https://kevin.deldycke.com">Kevin Deldycke</a>.
        </div>
      </div>

    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fitvids/1.1.0/jquery.fitvids.min.js"></script>
    <script src="https://blog.m157q.tw/theme/js/jquery.mglass.js"></script>
    <script src="https://blog.m157q.tw/theme/js/application.js"></script>

  </body>
</html>